{% extends "base.html" %}

{% block title %}Menu{% endblock %}

{% block content %}

<h1>All menus in the Database</h1>
<div class="accordion" id="accordionExample">
    {% for menu in menu_data %}
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button {% if not loop.first %}collapsed{% endif %}" type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse{{ loop.index }}"
                    aria-expanded="{% if loop.first %}true{% else %}false{% endif %}"
                    aria-controls="collapse{{ loop.index }}">
                {{ menu.name }}
            </button>
        </h2>
        <div id="collapse{{ loop.index }}" class="accordion-collapse collapse {% if loop.first %}show{% endif %}"
             data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <ul>
                    {% for link in menu.links %}
                    <li><a href="{{ link.url }}">{{ link.name }}</a></li>
                    {% endfor %}
                </ul>
                <a href="{{ url_for('menu.update_menu', menu_id=menu.id) }}">
                    <button class="btn btn-link"><i class="bi bi-pen"></i></button>
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>


{% endblock %}