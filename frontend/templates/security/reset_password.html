{% extends "base.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field %}

{% block title %}Reset your password{% endblock %}

{% block content %}
<div class="d-flex align-items-center py-4" style="min-height: 50vh;">
    <main class="form-signin w-100 m-auto">
        <form action="{{ url_for_security('reset_password', token=reset_password_token)}}" method="POST"
              name="reset_password_form">
            {{ reset_password_form.hidden_tag() }}
            <i class="bi bi-bootstrap fs-1 mb-4 d-block text-center"></i>
            <h1 class="h3 mb-3 fw-normal text-center">{{ ('Please enter your passwords') }}</h1>
            <div class="form-floating mb-2">
                {{ reset_password_form.password(class="form-control", id="floatingPassword", placeholder="Password") }}
                {{ reset_password_form.password.label()}}

                {% if reset_password_form.errors %}
                <div class="invalid-feedback d-block">
                    {% for error in reset_password_form.errors %}
                    {{ error }}
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            <div class="form-floating mb-3">
                {{ reset_password_form.password_confirm(class="form-control", id="floatingPassword_confirm",
                placeholder="Password Confirm") }}
                {{ reset_password_form.password.label(for="floatingPassword_confirm")}}
            </div>
            {{ reset_password_form.submit(class="btn btn-primary w-100 py-2") }}
            <p class="mt-5 mb-3 text-body-secondary text-center">&copy; {{ current_year }}</p>
        </form>
    </main>
</div>
{% endblock %}